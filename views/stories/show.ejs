<!DOCTYPE html>
<html lang="en">

<head>
  <title>Home Page</title>

  <meta charset="UTF-8" >
  <meta http-equiv="X-UA-Compatible" content="IE=edge" >
  <meta name="viewport" content="width=device-width, initial-scale=1.0" >

<!-- External Styles (text/icons) -->
  <link rel="preconnect" href="https://fonts.googleapis.com">
  <link rel="preconnect" href="https://fonts.gstatic.com" crossorigin>
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/6.5.1/css/all.min.css" 
    integrity="sha512-DTOQO9RWCH3ppGqcWaEA1BIZOC6xxalwEsw9c2QQeAIftl+Vegovlnee1c9QX4TctnWMn13TZye+giMm8e2LwA==" 
    crossorigin="anonymous" referrerpolicy="no-referrer" />
  <link href="https://fonts.googleapis.com/css2?family=Anonymous+Pro:ital,wght@0,400;0,700;1,400;1,700&family=Inter:wght@100..900&family=Source+Sans+3:ital,wght@0,200..900;1,200..900&display=swap" rel="stylesheet">
  
<!-- Internal Styles -->
  <link rel="stylesheet" href="/vendor/normalize-4.1.1.css" />
  <link rel="stylesheet" href="/vendor/border-box.css" />
  <link rel="stylesheet" href="/styles/story.css" />
  <link rel="stylesheet" href="/styles/navbar.css" />

<!-- Internal Scripts -->
  <script src="/vendor/jquery-3.0.0.js"></script>
  <script defer src="/scripts/likebutton.js"></script>
  <script defer src="/scripts/hidecontributions.js"></script>

</head>

<body>
  <%- include('../partials/_navbar'); %>

  <!-- Main story box -->

  <article class="mainstory">
    <section class="titlebody">
      <h1 class="maintitle"><%=story.title%></h1>
      <p class="story"><%=story.content%></p>
    </section>
    <section class="usercounter">
      <section class="user">@<%=story.username%></section>
    <!--DO NOT SEPERATE LIKE-BUTTON FROM LIKE-COUNT-->
      <div class="likecounter">
        <button class="like-button"><i class="fa-solid fa-heart heart"></i></button>
        <div class="like-count"><%=story.upvote_count%></div>
      </div>
    <!--DO NOT SEPERATE LIKE-BUTTON FROM LIKE-COUNT-->
    </section>
  </article>
  <div class="navbuttons">
    <div class="storybuttons">
      <a href="/stories/<%=story.id%>/add"class=addstory>Add to Story</a>
      <button id=viewadds>View Adds</button>
    </div>
  </div>

   <!-- Contributions --> 
   
<!-- Hides contributions associated with story by default and loops through contributions array to display all contributions-->
  <section class="contributions hiddentext">
    <h2 class="subheader">Contributions</h2>
   <% for (let contribution of contributions) {%>
    <article class="maincontribution">
      <p class="contributionstory" ><%=contribution.content%></p>
      <section class="usercounter">
        <section class="user">@<%=contribution.username%></section>
     <!--DO NOT SEPERATE LIKE-BUTTON FROM LIKE-COUNT-->
          <div class="likecounter">
          <button class="like-button"><i class="fa-solid fa-heart"></i></button>
          <span class="like-count">0</span>
        </div>
     <!--DO NOT SEPERATE LIKE-BUTTON FROM LIKE-COUNT-->
      </section>
    </article>
   <% } %>
  </section>
</body>
</html>